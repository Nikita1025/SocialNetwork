"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[693],{6589:function(t,e,r){r.d(e,{II:function(){return f},gx:function(){return h}});var n=r(1413),s=r(5987),a=(r(2791),"FormsControls_formControl__5Q0CF"),i="FormsControls_error__oBpjX",o=r(7391),l=r(184),u=["input","meta","child"],c=["input","meta","child"],d=function(t){var e=t.meta.touched&&t.meta.error;return(0,l.jsxs)("div",{className:a+" "+(e?i:""),children:[(0,l.jsx)("div",{children:t.children}),e&&(0,l.jsx)("span",{children:t.meta.error})]})},f=function(t){var e=t.input,r=(t.meta,t.child,(0,s.Z)(t,u));return(0,l.jsx)(d,(0,n.Z)((0,n.Z)({},t),{},{children:(0,l.jsx)(o.Z,(0,n.Z)((0,n.Z)({style:{minWidth:"550px"},id:"standard-basic",label:"New post",variant:"outlined"},e),r))}))},h=function(t){var e=t.input,r=(t.meta,t.child,(0,s.Z)(t,c));return(0,l.jsx)(d,(0,n.Z)((0,n.Z)({},t),{},{children:(0,l.jsx)(o.Z,(0,n.Z)((0,n.Z)({style:{minWidth:"550px"},id:"standard-basic",label:"New message",variant:"outlined"},e),r))}))}},2770:function(t,e,r){r.d(e,{Z:function(){return g}});var n=r(2791),s=r(364),a=r(3247),i=r(885),o=r(4395),l=r(506),u=r(4663),c=r(890),d=r(3400),f=r(9952),h=r(9891),m=r(5706),p="Header_container__+Jl--",v="Header_img__duJXD",x="Header_loginBlock__2g5rD",_=r(184);function j(t){var e=n.useState(null),r=(0,i.Z)(e,2),a=r[0],j=r[1],g=((0,s.v9)((function(t){return t.auth.isAuth})),(0,s.I0)());return(0,_.jsx)(l.Z,{sx:{flexGrow:1},className:p,children:(0,_.jsx)(o.Z,{position:"static",children:(0,_.jsxs)(u.Z,{children:[(0,_.jsx)(c.Z,{variant:"h6",component:"div",sx:{flexGrow:1},children:(0,_.jsx)("img",{className:v,src:"https://www.radiustheme.com/demo/wordpress/themes/cirkle/wp-content/uploads/2021/11/logo_light.svg"})}),t.isAuth&&(0,_.jsxs)("div",{className:x,children:[(0,_.jsx)("p",{children:t.login}),(0,_.jsx)(d.Z,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(t){j(t.currentTarget)},color:"inherit",children:(0,_.jsx)(f.Z,{type:t.ava})}),(0,_.jsx)(m.Z,{id:"menu-appbar",anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(a),onClose:function(){j(null)},children:(0,_.jsx)(h.Z,{onClick:function(){g(t.logout())},children:"Log out"})})]})]})})})}var g=(0,s.$j)((function(t){return{isAuth:t.auth.isAuth,login:t.auth.login,ava:t.profilePage.profile.photos.small}}),{logout:a.kS})((function(t){return(0,_.jsx)(j,{isAuth:t.isAuth,login:t.login,logout:t.logout,ava:t.ava})}))},7964:function(t,e,r){r.d(e,{Z:function(){return l}});r(2791);var n="Nav_container__ngNCO",s="Nav_ul__W+OFc",a="Nav_li__IEPlJ",i="Nav_a__cntv9",o=r(184),l=function(){return(0,o.jsx)("div",{className:n,children:(0,o.jsxs)("ul",{className:s,children:[(0,o.jsx)("li",{className:a,children:(0,o.jsx)("a",{href:"/profile",className:i,children:"Profile"})}),(0,o.jsx)("li",{className:a,children:(0,o.jsx)("a",{href:"/dialogs",className:i,children:"Messages"})}),(0,o.jsx)("li",{className:a,children:(0,o.jsx)("a",{href:"/users",className:i,children:"Users"})})]})})}},4693:function(t,e,r){r.r(e),r.d(e,{default:function(){return it}});var n=r(1413),s=r(2791),a=r(8527),i=r(885),o="ProfileStatusWithHooks_textContainer__VGic3",l="ProfileStatusWithHooks_userName__AyNSp",u="ProfileStatusWithHooks_text__Ru-vh",c="ProfileStatusWithHooks_input__4dOvD",d=r(7391),f=r(184),h=function(t){var e=(0,s.useState)(!1),r=(0,i.Z)(e,2),n=r[0],a=r[1],h=(0,s.useState)(t.status),m=(0,i.Z)(h,2),p=m[0],v=m[1];(0,s.useEffect)((function(){v(t.status)}),[t.status]);return(0,f.jsxs)("div",{className:o,children:[(0,f.jsx)("span",{className:l,children:t.profile.fullName}),!n&&(0,f.jsx)("div",{children:(0,f.jsx)("span",{style:{color:"white"},className:u,onDoubleClick:function(){a(!0),v(p)},children:t.status||"-----"})}),n&&(0,f.jsx)("div",{children:(0,f.jsx)(d.Z,{id:"standard-basic",label:"New status",variant:"standard",onChange:function(t){v(t.currentTarget.value)},onBlur:function(){a(!1),t.updateStatusThunk(p)},autoFocus:!0,value:p,className:c})})]})},m=r(4599),p="Profileinfo_image__JLxf-",v="Profileinfo_avatar__yHzyM",x="Profileinfo_infoContainer__iDy6c",_=function(t){return t.profile?(0,f.jsxs)("div",{className:p,children:[(0,f.jsx)("div",{className:x,children:(0,f.jsx)("img",{src:t.profile.photos.large||m,className:v})}),(0,f.jsx)(h,{status:t.status,updateStatusThunk:t.updateStatusThunk,profile:t.profile})]}):(0,f.jsx)(a.Z,{})},j={postsBlock:"Mypost_postsBlock__xXmBT",addContent:"Mypost_addContent__LEdQn",post:"Mypost_post__3Y39d"},g="Post_cont__fcLfe",Z="Post_name__brF46",N="Post_span__bU1kt",k=r(1048),S=r(2793),b=r(8182),P=r(4419),w=r(7630),y=r(1046),C=(0,r(9201).Z)((0,f.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),A=r(5878),T=r(1217);function M(t){return(0,T.Z)("MuiAvatar",t)}(0,A.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var D=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],F=(0,w.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(t,e){var r=t.ownerState;return[e.root,e[r.variant],r.colorDefault&&e.colorDefault]}})((function(t){var e=t.theme,r=t.ownerState;return(0,S.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===r.variant&&{borderRadius:(e.vars||e).shape.borderRadius},"square"===r.variant&&{borderRadius:0},r.colorDefault&&(0,S.Z)({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===e.palette.mode?e.palette.grey[400]:e.palette.grey[600]}))})),z=(0,w.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(t,e){return e.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),I=(0,w.ZP)(C,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(t,e){return e.fallback}})({width:"75%",height:"75%"});var R=s.forwardRef((function(t,e){var r=(0,y.Z)({props:t,name:"MuiAvatar"}),n=r.alt,a=r.children,o=r.className,l=r.component,u=void 0===l?"div":l,c=r.imgProps,d=r.sizes,h=r.src,m=r.srcSet,p=r.variant,v=void 0===p?"circular":p,x=(0,k.Z)(r,D),_=null,j=function(t){var e=t.crossOrigin,r=t.referrerPolicy,n=t.src,a=t.srcSet,o=s.useState(!1),l=(0,i.Z)(o,2),u=l[0],c=l[1];return s.useEffect((function(){if(n||a){c(!1);var t=!0,s=new Image;return s.onload=function(){t&&c("loaded")},s.onerror=function(){t&&c("error")},s.crossOrigin=e,s.referrerPolicy=r,s.src=n,a&&(s.srcset=a),function(){t=!1}}}),[e,r,n,a]),u}((0,S.Z)({},c,{src:h,srcSet:m})),g=h||m,Z=g&&"error"!==j,N=(0,S.Z)({},r,{colorDefault:!Z,component:u,variant:v}),w=function(t){var e=t.classes,r={root:["root",t.variant,t.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,P.Z)(r,M,e)}(N);return _=Z?(0,f.jsx)(z,(0,S.Z)({alt:n,src:h,srcSet:m,sizes:d,ownerState:N,className:w.img},c)):null!=a?a:g&&n?n[0]:(0,f.jsx)(I,{className:w.fallback}),(0,f.jsx)(F,(0,S.Z)({as:u,ownerState:N,className:(0,b.Z)(w.root,o),ref:e},x,{children:_}))})),H=r(364),B=function(t){var e=(0,H.v9)((function(t){return t.profilePage.profile.fullName}));return(0,f.jsxs)("div",{className:g,children:[(0,f.jsxs)("div",{className:Z,children:[(0,f.jsx)(R,{alt:"Remy Sharp",src:m,sx:{width:56,height:56}}),(0,f.jsx)("span",{children:e})]}),(0,f.jsxs)("div",{className:N,children:[(0,f.jsx)("div",{children:t.message}),(0,f.jsxs)("span",{children:["Like ",t.likesCount]})]})]})},E=r(6139),O=r(704),W="FormProfile_container__4u1Vt",L="FormProfile_button__MKrnA",$=r(3079),q=r(6589),J=r(1686),U=(0,$.D)(300),G=(0,O.Z)({form:"ProfileAddNewPostForm"})((function(t){return(0,f.jsx)("form",{onSubmit:t.handleSubmit,children:(0,f.jsxs)("div",{className:W,children:[(0,f.jsx)("div",{children:(0,f.jsx)(E.Z,{component:q.II,name:"newPostText",validate:[$.C,U]})}),(0,f.jsx)("div",{children:(0,f.jsx)(J.Z,{type:"submit",className:L,onSubmit:t.handleSubmit,children:"Add post"})})]})})})),Q=(0,s.memo)((function(t){var e=t.posts.map((function(t){return(0,f.jsx)(B,{id:t.id,message:t.message,likesCount:t.likesCount},t.id)}));return(0,f.jsxs)("div",{className:j.postsBlock,children:[(0,f.jsx)("h3",{className:j.post,children:"My Post"}),(0,f.jsx)(G,{onSubmit:function(e){t.addPost(e.newPostText)}}),(0,f.jsx)("div",{className:j.posts,children:e})]})})),X=r(7503),V=(0,H.$j)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(e){t((0,X.Pi)(e))}}}))(Q),K=r(2770),Y="Profile_container__EjHQS",tt=r(7964),et=function(t){return(0,f.jsxs)("div",{children:[(0,f.jsx)(K.Z,{}),(0,f.jsxs)("div",{className:Y,children:[(0,f.jsx)(_,{profile:t.profile,status:t.status,updateStatusThunk:t.updateStatusThunk}),(0,f.jsx)(tt.Z,{}),(0,f.jsx)(V,{})]})]})},rt=r(2558),nt=r(5987),st=["isAuth"],at=function(t){return{isAuth:t.auth.isAuth}};var it=(0,r(7781).qC)((0,H.$j)((function(t){return{profile:t.profilePage.profile,isAuth:t.auth.isAuth,status:t.profilePage.status,authorizedUserId:t.auth.id}}),{ProfileThunk:X.Ot,getStatusThunk:X.$b,updateStatusThunk:X.dw}),rt.EN,(function(t){return(0,H.$j)(at)((function(e){var r=e.isAuth,s=(0,nt.Z)(e,st);return r?(0,f.jsx)(t,(0,n.Z)({},s)):(0,f.jsx)(rt.l_,{to:"/Login"})}))}))((function(t){return(0,s.useEffect)((function(){var e=+t.match.params.userId;e||(e=Number(t.authorizedUserId)),t.ProfileThunk(e),t.getStatusThunk(e)}),[]),(0,f.jsx)(et,(0,n.Z)((0,n.Z)({},t),{},{profile:t.profile,status:t.status,updateStatusThunk:t.updateStatusThunk}))}))},3079:function(t,e,r){r.d(e,{C:function(){return n},D:function(){return s}});var n=function(t){if(!t)return"Field is required"},s=function(t){return function(e){if(e.length>t)return"Max length is ".concat(t," symbols")}}},1686:function(t,e,r){var n=r(1941);e.Z=void 0;var s=n(r(5649)),a=r(184),i=(0,s.default)((0,a.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");e.Z=i},4599:function(t,e,r){t.exports=r.p+"static/media/user.53fd02f1899833f8847b.png"}}]);
//# sourceMappingURL=693.0186864d.chunk.js.map