"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[693],{6589:function(t,e,r){r.d(e,{II:function(){return f},gx:function(){return h}});var s=r(1413),n=r(5987),a=(r(2791),"FormsControls_formControl__5Q0CF"),i="FormsControls_error__oBpjX",o=r(7391),u=r(184),l=["input","meta","child"],c=["input","meta","child"],d=function(t){var e=t.meta.touched&&t.meta.error;return(0,u.jsxs)("div",{className:a+" "+(e?i:""),children:[(0,u.jsx)("div",{children:t.children}),e&&(0,u.jsx)("span",{children:t.meta.error})]})},f=function(t){var e=t.input,r=(t.meta,t.child,(0,n.Z)(t,l));return(0,u.jsx)(d,(0,s.Z)((0,s.Z)({},t),{},{children:(0,u.jsx)(o.Z,(0,s.Z)((0,s.Z)({style:{minWidth:"550px"},id:"standard-basic",label:"New post",variant:"outlined"},e),r))}))},h=function(t){var e=t.input,r=(t.meta,t.child,(0,n.Z)(t,c));return(0,u.jsx)(d,(0,s.Z)((0,s.Z)({},t),{},{children:(0,u.jsx)(o.Z,(0,s.Z)((0,s.Z)({style:{minWidth:"550px"},id:"standard-basic",label:"New message",variant:"outlined"},e),r))}))}},7964:function(t,e,r){r.d(e,{Z:function(){return u}});r(2791);var s="Nav_container__ngNCO",n="Nav_ul__W+OFc",a="Nav_li__IEPlJ",i="Nav_a__cntv9",o=r(184),u=function(){return(0,o.jsx)("div",{className:s,children:(0,o.jsxs)("ul",{className:n,children:[(0,o.jsx)("li",{className:a,children:(0,o.jsx)("a",{href:"/profile",className:i,children:"Profile"})}),(0,o.jsx)("li",{className:a,children:(0,o.jsx)("a",{href:"/dialogs",className:i,children:"Messages"})}),(0,o.jsx)("li",{className:a,children:(0,o.jsx)("a",{href:"/users",className:i,children:"Users"})})]})})}},4693:function(t,e,r){r.r(e),r.d(e,{default:function(){return at}});var s=r(1413),n=r(2791),a=r(8527),i=r(885),o="ProfileStatusWithHooks_textContainer__VGic3",u="ProfileStatusWithHooks_userName__AyNSp",l="ProfileStatusWithHooks_text__Ru-vh",c="ProfileStatusWithHooks_input__4dOvD",d=r(7391),f=r(184),h=function(t){var e=(0,n.useState)(!1),r=(0,i.Z)(e,2),s=r[0],a=r[1],h=(0,n.useState)(t.status),m=(0,i.Z)(h,2),p=m[0],v=m[1];(0,n.useEffect)((function(){v(t.status)}),[t.status]);return(0,f.jsxs)("div",{className:o,children:[(0,f.jsx)("span",{className:u,children:t.profile.fullName}),!s&&(0,f.jsx)("div",{children:(0,f.jsx)("span",{style:{color:"white"},className:l,onDoubleClick:function(){a(!0),v(p)},children:t.status||"-----"})}),s&&(0,f.jsx)("div",{children:(0,f.jsx)(d.Z,{id:"standard-basic",label:"New status",variant:"standard",onChange:function(t){v(t.currentTarget.value)},onBlur:function(){a(!1),t.updateStatusThunk(p)},autoFocus:!0,value:p,className:c})})]})},m=r(4599),p="Profileinfo_image__JLxf-",v="Profileinfo_avatar__yHzyM",x="Profileinfo_infoContainer__iDy6c",_=function(t){return t.profile?(0,f.jsxs)("div",{className:p,children:[(0,f.jsx)("div",{className:x,children:(0,f.jsx)("img",{src:t.profile.photos.large||m,className:v})}),(0,f.jsx)(h,{status:t.status,updateStatusThunk:t.updateStatusThunk,profile:t.profile})]}):(0,f.jsx)(a.Z,{})},j={postsBlock:"Mypost_postsBlock__xXmBT",addContent:"Mypost_addContent__LEdQn",post:"Mypost_post__3Y39d"},g="Post_cont__fcLfe",N="Post_name__brF46",Z="Post_span__bU1kt",k=r(1048),S=r(2793),P=r(8182),b=r(4419),y=r(7630),w=r(1046),C=(0,r(9201).Z)((0,f.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),A=r(5878),T=r(1217);function M(t){return(0,T.Z)("MuiAvatar",t)}(0,A.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var F=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],D=(0,y.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(t,e){var r=t.ownerState;return[e.root,e[r.variant],r.colorDefault&&e.colorDefault]}})((function(t){var e=t.theme,r=t.ownerState;return(0,S.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===r.variant&&{borderRadius:(e.vars||e).shape.borderRadius},"square"===r.variant&&{borderRadius:0},r.colorDefault&&(0,S.Z)({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===e.palette.mode?e.palette.grey[400]:e.palette.grey[600]}))})),I=(0,y.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(t,e){return e.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),R=(0,y.ZP)(C,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(t,e){return e.fallback}})({width:"75%",height:"75%"});var z=n.forwardRef((function(t,e){var r=(0,w.Z)({props:t,name:"MuiAvatar"}),s=r.alt,a=r.children,o=r.className,u=r.component,l=void 0===u?"div":u,c=r.imgProps,d=r.sizes,h=r.src,m=r.srcSet,p=r.variant,v=void 0===p?"circular":p,x=(0,k.Z)(r,F),_=null,j=function(t){var e=t.crossOrigin,r=t.referrerPolicy,s=t.src,a=t.srcSet,o=n.useState(!1),u=(0,i.Z)(o,2),l=u[0],c=u[1];return n.useEffect((function(){if(s||a){c(!1);var t=!0,n=new Image;return n.onload=function(){t&&c("loaded")},n.onerror=function(){t&&c("error")},n.crossOrigin=e,n.referrerPolicy=r,n.src=s,a&&(n.srcset=a),function(){t=!1}}}),[e,r,s,a]),l}((0,S.Z)({},c,{src:h,srcSet:m})),g=h||m,N=g&&"error"!==j,Z=(0,S.Z)({},r,{colorDefault:!N,component:l,variant:v}),y=function(t){var e=t.classes,r={root:["root",t.variant,t.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,b.Z)(r,M,e)}(Z);return _=N?(0,f.jsx)(I,(0,S.Z)({alt:s,src:h,srcSet:m,sizes:d,ownerState:Z,className:y.img},c)):null!=a?a:g&&s?s[0]:(0,f.jsx)(R,{className:y.fallback}),(0,f.jsx)(D,(0,S.Z)({as:l,ownerState:Z,className:(0,P.Z)(y.root,o),ref:e},x,{children:_}))})),B=r(364),E=function(t){var e=(0,B.v9)((function(t){return t.profilePage.profile.fullName}));return(0,f.jsxs)("div",{className:g,children:[(0,f.jsxs)("div",{className:N,children:[(0,f.jsx)(z,{alt:"Remy Sharp",src:m,sx:{width:56,height:56}}),(0,f.jsx)("span",{children:e})]}),(0,f.jsxs)("div",{className:Z,children:[(0,f.jsx)("div",{children:t.message}),(0,f.jsxs)("span",{children:["Like ",t.likesCount]})]})]})},H=r(6139),W=r(704),O="FormProfile_container__4u1Vt",q="FormProfile_button__MKrnA",L=r(3079),U=r(6589),$=r(1686),Q=(0,L.D)(300),J=(0,W.Z)({form:"ProfileAddNewPostForm"})((function(t){return(0,f.jsx)("form",{onSubmit:t.handleSubmit,children:(0,f.jsxs)("div",{className:O,children:[(0,f.jsx)("div",{children:(0,f.jsx)(H.Z,{component:U.II,name:"newPostText",validate:[L.C,Q]})}),(0,f.jsx)("div",{children:(0,f.jsx)($.Z,{type:"submit",className:q,onSubmit:t.handleSubmit,children:"Add post"})})]})})})),V=(0,n.memo)((function(t){var e=t.posts.map((function(t){return(0,f.jsx)(E,{id:t.id,message:t.message,likesCount:t.likesCount},t.id)}));return(0,f.jsxs)("div",{className:j.postsBlock,children:[(0,f.jsx)("h3",{className:j.post,children:"My Post"}),(0,f.jsx)(J,{onSubmit:function(e){t.addPost(e.newPostText)}}),(0,f.jsx)("div",{className:j.posts,children:e})]})})),X=r(7503),G=(0,B.$j)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(e){t((0,X.Pi)(e))}}}))(V),K="Profile_container__EjHQS",Y=r(7964),tt=function(t){return(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:K,children:[(0,f.jsx)(_,{profile:t.profile,status:t.status,updateStatusThunk:t.updateStatusThunk}),(0,f.jsx)(Y.Z,{}),(0,f.jsx)(G,{})]})})},et=r(2558),rt=r(5987),st=["isAuth"],nt=function(t){return{isAuth:t.auth.isAuth}};var at=(0,r(7781).qC)((0,B.$j)((function(t){return{profile:t.profilePage.profile,isAuth:t.auth.isAuth,status:t.profilePage.status,authorizedUserId:t.auth.id}}),{ProfileThunk:X.Ot,getStatusThunk:X.$b,updateStatusThunk:X.dw}),et.EN,(function(t){return(0,B.$j)(nt)((function(e){var r=e.isAuth,n=(0,rt.Z)(e,st);return console.log(r),r?(0,f.jsx)(t,(0,s.Z)({},n)):(0,f.jsx)(et.l_,{to:"/login"})}))}))((function(t){return(0,n.useEffect)((function(){!function(){var e=+t.match.params.userId;e||(e=Number(t.authorizedUserId))||t.history.push("/login"),t.ProfileThunk(e),t.getStatusThunk(e)}()}),[]),(0,f.jsx)(tt,(0,s.Z)((0,s.Z)({},t),{},{profile:t.profile,status:t.status,updateStatusThunk:t.updateStatusThunk}))}))},3079:function(t,e,r){r.d(e,{C:function(){return s},D:function(){return n}});var s=function(t){if(!t)return"Field is required"},n=function(t){return function(e){if(e.length>t)return"Max length is ".concat(t," symbols")}}},1686:function(t,e,r){var s=r(1941);e.Z=void 0;var n=s(r(5649)),a=r(184),i=(0,n.default)((0,a.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");e.Z=i},4599:function(t,e,r){t.exports=r.p+"static/media/user.53fd02f1899833f8847b.png"}}]);
//# sourceMappingURL=693.63ebc393.chunk.js.map